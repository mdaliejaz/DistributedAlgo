2016-10-16 17:12:17.415 - Log.master - INFO - Starting the DistAlgo Project with config file: ../config/responseQueue.ini
2016-10-16 17:12:17.511 - Log.master - INFO - Number of coordinators = 3
2016-10-16 17:12:17.514 - Log.master - INFO - Number of clients = 2
2016-10-16 17:12:17.514 - Log.master - INFO - Number of workers per coordinator = 2
2016-10-16 17:12:17.523 - Log.client - INFO - Started Client 2
2016-10-16 17:12:17.523 - Log.client - INFO - Started Client 1
2016-10-16 17:12:17.524 - Log.client - INFO - Client 1 sending Request{Subject ID: 1111, Resource ID: 999, action: view} to coordinator 1
2016-10-16 17:12:17.542 - Log.client - INFO - Client 2 sending Request{Subject ID: 1111, Resource ID: 999, action: read} to coordinator 1
2016-10-16 17:12:17.554 - Log.database - INFO - Started Database Instance with dbInitFile = ../config/dbPolicy.xml, Min DB Latency = 1 and Max DB Latency = 5
2016-10-16 17:12:17.555 - Log.database - INFO - Initialized DB with:
	Subject Attributes = {'3333': {'position': 'listener'}, '1111': {'position': 'employee', 'history': ''}, '4444': {'viewCount': '0', 'name': 'Tom'}, '2222': {'position': 'viewer'}}
	Resource Attributes = {'999': {'id': 'bank A'}, '888': {'type': 'movie', 'viewCount': '0'}, '666': {'movie': 'StarWars'}, '777': {'type': 'song', 'viewCount': '0'}}
2016-10-16 17:12:17.566 - Log.coordinator - INFO - Starting Coordinator with 2 workers
2016-10-16 17:12:17.568 - Log.worker - INFO - Started worker to evaluate policy in file: ../config/policy-example.xml
2016-10-16 17:12:17.569 - Log.worker - INFO - Started worker to evaluate policy in file: ../config/policy-example.xml
2016-10-16 17:12:17.569 - Log.worker - DEBUG - Content of Policy File: {'read': [<util.PolicyRule object at 0x103fc8f60>, <util.PolicyRule object at 0x103fcf5c0>, <util.PolicyRule object at 0x103fcf2b0>, <util.PolicyRule object at 0x103fd6390>], 'view': [<util.PolicyRule object at 0x103fd6400>], 'conflict2': [<util.PolicyRule object at 0x103fd64a8>], 'conflict1': [<util.PolicyRule object at 0x103fd6470>], 'viewOnSubject': [<util.PolicyRule object at 0x103fd6438>], 'conflict3': [<util.PolicyRule object at 0x103fd64e0>], 'viewOnResource': [<util.PolicyRule object at 0x103fd63c8>]}
2016-10-16 17:12:17.569 - Log.worker - DEBUG - Content of Policy File: {'read': [<util.PolicyRule object at 0x103fc8400>, <util.PolicyRule object at 0x103fcf780>, <util.PolicyRule object at 0x103fcf048>, <util.PolicyRule object at 0x103fd6550>], 'view': [<util.PolicyRule object at 0x103fd65c0>], 'conflict2': [<util.PolicyRule object at 0x103fd6668>], 'conflict1': [<util.PolicyRule object at 0x103fd6630>], 'viewOnSubject': [<util.PolicyRule object at 0x103fd65f8>], 'conflict3': [<util.PolicyRule object at 0x103fd66a0>], 'viewOnResource': [<util.PolicyRule object at 0x103fd6588>]}
2016-10-16 17:12:17.571 - Log.coordinator - INFO - Subject Coordinator: Received request with following parameters from Client:
	Subject ID = 1111
	Resource ID = 999
	Action = view
2016-10-16 17:12:17.571 - Log.coordinator - INFO - Request Queue Demo: Request 72313c31-aaab-4aee-b84a-f178e68800d1 received in Subject Coordinator
2016-10-16 17:12:17.572 - Log.coordinator - INFO - Subject Coordinator: Sending the following parameters to Resource Coordinator:
	Request ID = 72313c31-aaab-4aee-b84a-f178e68800d1
	Subject ID = 1111
	Resource ID = 999
	Action = view
	Subject Attribute Map = {}
	Resource Attribute Map = {}
2016-10-16 17:12:17.575 - Log.coordinator - INFO - Starting Coordinator with 2 workers
2016-10-16 17:12:17.577 - Log.worker - INFO - Started worker to evaluate policy in file: ../config/policy-example.xml
2016-10-16 17:12:17.576 - Log.coordinator - INFO - Starting Coordinator with 2 workers
2016-10-16 17:12:17.582 - Log.worker - DEBUG - Content of Policy File: {'read': [<util.PolicyRule object at 0x103fc8fd0>, <util.PolicyRule object at 0x103fd0320>, <util.PolicyRule object at 0x103fd02b0>, <util.PolicyRule object at 0x103fd60f0>], 'view': [<util.PolicyRule object at 0x103fd6160>], 'conflict2': [<util.PolicyRule object at 0x103fd6208>], 'conflict1': [<util.PolicyRule object at 0x103fd61d0>], 'viewOnSubject': [<util.PolicyRule object at 0x103fd6198>], 'conflict3': [<util.PolicyRule object at 0x103fd6240>], 'viewOnResource': [<util.PolicyRule object at 0x103fd6128>]}
2016-10-16 17:12:17.577 - Log.worker - INFO - Started worker to evaluate policy in file: ../config/policy-example.xml
2016-10-16 17:12:17.579 - Log.coordinator - INFO - Resource Coordinator: Received the following parameters from Subject Coordinator:
	Request ID = 72313c31-aaab-4aee-b84a-f178e68800d1
	Subject ID = 1111
	Resource ID = 999
	Action = view
	Subject Attribute Map = {}
	Resource Attribute Map = {}
2016-10-16 17:12:17.585 - Log.worker - DEBUG - Content of Policy File: {'read': [<util.PolicyRule object at 0x103fc8e80>, <util.PolicyRule object at 0x103fcf4e0>, <util.PolicyRule object at 0x103fcf1d0>, <util.PolicyRule object at 0x103fd62b0>], 'view': [<util.PolicyRule object at 0x103fd6320>], 'conflict2': [<util.PolicyRule object at 0x103fd63c8>], 'conflict1': [<util.PolicyRule object at 0x103fd6390>], 'viewOnSubject': [<util.PolicyRule object at 0x103fd6358>], 'conflict3': [<util.PolicyRule object at 0x103fd6400>], 'viewOnResource': [<util.PolicyRule object at 0x103fd62e8>]}
2016-10-16 17:12:17.586 - Log.coordinator - INFO - Request Queue Demo: Request 72313c31-aaab-4aee-b84a-f178e68800d1 received in Resource Coordinator
2016-10-16 17:12:17.580 - Log.coordinator - INFO - Subject Coordinator: Received request with following parameters from Client:
	Subject ID = 1111
	Resource ID = 999
	Action = read
2016-10-16 17:12:17.587 - Log.coordinator - INFO - Resource Coordinator: Sending the following parameters to Worker:
	Request ID = 72313c31-aaab-4aee-b84a-f178e68800d1
	Subject ID = 1111
	Resource ID = 999
	Action = view
	Subject Attribute Map = {}
	Resource Attribute Map = {}
2016-10-16 17:12:17.587 - Log.coordinator - INFO - Request Queue Demo: Request 0bbcbbd4-c02f-40b8-8587-a2ec12689495 received in Subject Coordinator
2016-10-16 17:12:17.587 - Log.coordinator - INFO - Subject Coordinator: Sending the following parameters to Resource Coordinator:
	Request ID = 0bbcbbd4-c02f-40b8-8587-a2ec12689495
	Subject ID = 1111
	Resource ID = 999
	Action = read
	Subject Attribute Map = {}
	Resource Attribute Map = {}
2016-10-16 17:12:17.587 - Log.worker - INFO - Started worker to evaluate policy in file: ../config/policy-example.xml
2016-10-16 17:12:17.588 - Log.worker - DEBUG - Content of Policy File: {'read': [<util.PolicyRule object at 0x103fcf160>, <util.PolicyRule object at 0x103fcf9e8>, <util.PolicyRule object at 0x103fcf2b0>, <util.PolicyRule object at 0x103fd67b8>], 'view': [<util.PolicyRule object at 0x103fd6828>], 'conflict2': [<util.PolicyRule object at 0x103fd68d0>], 'conflict1': [<util.PolicyRule object at 0x103fd6898>], 'viewOnSubject': [<util.PolicyRule object at 0x103fd6860>], 'conflict3': [<util.PolicyRule object at 0x103fd6908>], 'viewOnResource': [<util.PolicyRule object at 0x103fd67f0>]}
2016-10-16 17:12:17.589 - Log.worker - INFO - Started worker to evaluate policy in file: ../config/policy-example.xml
2016-10-16 17:12:17.590 - Log.worker - DEBUG - Content of Policy File: {'read': [<util.PolicyRule object at 0x103fc56d8>, <util.PolicyRule object at 0x103fcf7f0>, <util.PolicyRule object at 0x103fcf0b8>, <util.PolicyRule object at 0x103fd65c0>], 'view': [<util.PolicyRule object at 0x103fd6630>], 'conflict2': [<util.PolicyRule object at 0x103fd66d8>], 'conflict1': [<util.PolicyRule object at 0x103fd66a0>], 'viewOnSubject': [<util.PolicyRule object at 0x103fd6668>], 'conflict3': [<util.PolicyRule object at 0x103fd6710>], 'viewOnResource': [<util.PolicyRule object at 0x103fd65f8>]}
2016-10-16 17:12:17.593 - Log.worker - INFO - Received message from coordinator for Request:
	Subject ID: 1111
	Resource ID: 1111
	Action: view}
2016-10-16 17:12:17.594 - Log.worker - INFO - Request Queue Demo: Request 72313c31-aaab-4aee-b84a-f178e68800d1 received in Worker
2016-10-16 17:12:17.595 - Log.worker - INFO - Request Queue Demo: Added worker delay to request 72313c31-aaab-4aee-b84a-f178e68800d1
2016-10-16 17:12:17.595 - Log.coordinator - INFO - Resource Coordinator: Received the following parameters from Subject Coordinator:
	Request ID = 0bbcbbd4-c02f-40b8-8587-a2ec12689495
	Subject ID = 1111
	Resource ID = 999
	Action = read
	Subject Attribute Map = {}
	Resource Attribute Map = {}
2016-10-16 17:12:17.596 - Log.coordinator - INFO - Request Queue Demo: Request 0bbcbbd4-c02f-40b8-8587-a2ec12689495 received in Resource Coordinator
2016-10-16 17:12:17.596 - Log.coordinator - INFO - Resource Coordinator: Sending the following parameters to Worker:
	Request ID = 0bbcbbd4-c02f-40b8-8587-a2ec12689495
	Subject ID = 1111
	Resource ID = 999
	Action = read
	Subject Attribute Map = {}
	Resource Attribute Map = {}
2016-10-16 17:12:17.599 - Log.worker - INFO - Received message from coordinator for Request:
	Subject ID: 1111
	Resource ID: 1111
	Action: read}
2016-10-16 17:12:17.599 - Log.worker - INFO - Request Queue Demo: Request 0bbcbbd4-c02f-40b8-8587-a2ec12689495 received in Worker
2016-10-16 17:12:17.601 - Log.worker - INFO - Sending message to initiate database read for attributes not in cache for Request:
	Request ID = 0bbcbbd4-c02f-40b8-8587-a2ec12689495
	Subject ID = 1111
	Resource ID = 999
	Action = read
	Subject Attribute Map = {}
	Resource Attribute Map = {}
2016-10-16 17:12:17.603 - Log.database - INFO - Received request from Worker to get attributes for following request:
	Request ID = 0bbcbbd4-c02f-40b8-8587-a2ec12689495
	Subject ID = 1111
	Resource ID = 999
	Action = read
	Subject Attribute Map = {}
	Resource Attribute Map = {}
2016-10-16 17:12:17.604 - Log.database - INFO - Sending following response to Worker with updated attributes from database:
	Request ID = 0bbcbbd4-c02f-40b8-8587-a2ec12689495
	Subject ID = 1111
	Resource ID = 999
	Action = read
	Subject Attribute Map = {}
	Resource Attribute Map = {}
	Evaluation Result = True
	Subject Map read from DB = {'position': 'employee', 'history': ''}
	Resource Map read from DB = {'id': 'bank A'}
2016-10-16 17:12:17.605 - Log.worker - INFO - Received following DB response:
	Request ID = 0bbcbbd4-c02f-40b8-8587-a2ec12689495
	Subject ID = 1111
	Resource ID = 999
	Action = read
	Subject Attribute Map = {}
	Resource Attribute Map = {}
	Evaluation Result = True
	Subject Map read from DB = {'position': 'employee', 'history': ''}
	Resource Map read from DB = {'id': 'bank A'}
2016-10-16 17:12:17.606 - Log.worker - INFO - Sending following Worker Response to Subject Coordinator:
	Request ID = 0bbcbbd4-c02f-40b8-8587-a2ec12689495
	Subject ID = 1111
	Resource ID = 999
	Action = read
	Subject Attribute Map = {}
	Resource Attribute Map = {}
	Evaluation Result = True
	Subject Map read from DB = {'position': 'employee', 'history': ''}
	Resource Map read from DB = {'id': 'bank A'}
	Map with updated subject attributes = {'history': 'bank A'}
	Map with updated resource attributes = {}
	Map with read subject attributes = {}
	Map with read resource attributes = {}
2016-10-16 17:12:17.608 - Log.coordinator - INFO - Subject Coordinator: Received the following parameters from Worker:
	Request ID = 0bbcbbd4-c02f-40b8-8587-a2ec12689495
	Subject ID = 1111
	Resource ID = 999
	Action = read
	Subject Attribute Map = {}
	Resource Attribute Map = {}
	Evaluation Result = True
	Subject Map read from DB = {'position': 'employee', 'history': ''}
	Resource Map read from DB = {'id': 'bank A'}
	Map with updated subject attributes = {'history': 'bank A'}
	Map with updated resource attributes = {}
	Map with read subject attributes = {}
	Map with read resource attributes = {}
2016-10-16 17:12:17.608 - Log.coordinator - INFO - Request queue Demo: Response from Worker for Request 0bbcbbd4-c02f-40b8-8587-a2ec12689495 received in Subject Coordinator
2016-10-16 17:12:17.608 - Log.coordinator - INFO - Request queue Demo: Waiting for previous response to be serviced
2016-10-16 17:12:18.597 - Log.worker - INFO - Sending message to initiate database read for attributes not in cache for Request:
	Request ID = 72313c31-aaab-4aee-b84a-f178e68800d1
	Subject ID = 1111
	Resource ID = 999
	Action = view
	Subject Attribute Map = {}
	Resource Attribute Map = {}
2016-10-16 17:12:18.600 - Log.database - INFO - Received request from Worker to get attributes for following request:
	Request ID = 72313c31-aaab-4aee-b84a-f178e68800d1
	Subject ID = 1111
	Resource ID = 999
	Action = view
	Subject Attribute Map = {}
	Resource Attribute Map = {}
2016-10-16 17:12:18.600 - Log.database - INFO - Sending following response to Worker with updated attributes from database:
	Request ID = 72313c31-aaab-4aee-b84a-f178e68800d1
	Subject ID = 1111
	Resource ID = 999
	Action = view
	Subject Attribute Map = {}
	Resource Attribute Map = {}
	Evaluation Result = True
	Subject Map read from DB = {'position': 'employee'}
	Resource Map read from DB = {'type': '', 'viewCount': ''}
2016-10-16 17:12:18.602 - Log.worker - INFO - Received following DB response:
	Request ID = 72313c31-aaab-4aee-b84a-f178e68800d1
	Subject ID = 1111
	Resource ID = 999
	Action = view
	Subject Attribute Map = {}
	Resource Attribute Map = {}
	Evaluation Result = True
	Subject Map read from DB = {'position': 'employee'}
	Resource Map read from DB = {'type': '', 'viewCount': ''}
2016-10-16 17:12:18.602 - Log.worker - INFO - Sending following Worker Response to Subject Coordinator:
	Request ID = 72313c31-aaab-4aee-b84a-f178e68800d1
	Subject ID = 1111
	Resource ID = 999
	Action = view
	Subject Attribute Map = {}
	Resource Attribute Map = {}
	Evaluation Result = False
	Subject Map read from DB = {'position': 'employee'}
	Resource Map read from DB = {}
	Map with updated subject attributes = {}
	Map with updated resource attributes = {}
	Map with read subject attributes = {}
	Map with read resource attributes = {}
2016-10-16 17:12:18.604 - Log.coordinator - INFO - Subject Coordinator: Received the following parameters from Worker:
	Request ID = 72313c31-aaab-4aee-b84a-f178e68800d1
	Subject ID = 1111
	Resource ID = 999
	Action = view
	Subject Attribute Map = {}
	Resource Attribute Map = {}
	Evaluation Result = False
	Subject Map read from DB = {'position': 'employee'}
	Resource Map read from DB = {}
	Map with updated subject attributes = {}
	Map with updated resource attributes = {}
	Map with read subject attributes = {}
	Map with read resource attributes = {}
2016-10-16 17:12:18.604 - Log.coordinator - INFO - Request queue Demo: Response from Worker for Request 72313c31-aaab-4aee-b84a-f178e68800d1 received in Subject Coordinator
2016-10-16 17:12:18.604 - Log.coordinator - INFO - Request queue Demo: Servicing response for request 72313c31-aaab-4aee-b84a-f178e68800d1
2016-10-16 17:12:18.605 - Log.coordinator - INFO - Subject Coordinator: Sending failure result to Client:
	Evaluation Result = Deny
	Subject ID = 1111
	Resource ID = 999
	Action = view
2016-10-16 17:12:18.606 - Log.client - INFO - Deny access to client 1 for Request{Subject ID: 1111, Resource ID: 999, action: view}
2016-10-16 17:12:18.606 - Log.coordinator - INFO - Request queue Demo: Servicing response for request 0bbcbbd4-c02f-40b8-8587-a2ec12689495
2016-10-16 17:12:18.607 - Log.coordinator - INFO - Subject Coordinator: No conflicts in subject attributes. Sending response to Resource Coordinator to check for resource attribute conflicts: 
	Request ID = 0bbcbbd4-c02f-40b8-8587-a2ec12689495
	Subject ID = 1111
	Resource ID = 999
	Action = read
	Subject Attribute Map = {}
	Resource Attribute Map = {}
	Evaluation Result = True
	Subject Map read from DB = {'position': 'employee', 'history': ''}
	Resource Map read from DB = {'id': 'bank A'}
	Map with updated subject attributes = {'history': 'bank A'}
	Map with updated resource attributes = {}
	Map with read subject attributes = {}
	Map with read resource attributes = {}
2016-10-16 17:12:18.609 - Log.coordinator - INFO - Resource Coordinator: Received the following response from Subject Coordinator to check for resource attribute conflicts: 
	Request ID = 0bbcbbd4-c02f-40b8-8587-a2ec12689495
	Subject ID = 1111
	Resource ID = 999
	Action = read
	Subject Attribute Map = {}
	Resource Attribute Map = {}
	Evaluation Result = True
	Subject Map read from DB = {'position': 'employee', 'history': ''}
	Resource Map read from DB = {'id': 'bank A'}
	Map with updated subject attributes = {'history': 'bank A'}
	Map with updated resource attributes = {}
	Map with read subject attributes = {}
	Map with read resource attributes = {}
2016-10-16 17:12:18.609 - Log.coordinator - INFO - Resource Coordinator: Sending message to DB to commit the updated resource attributes: {'999': {}}
2016-10-16 17:12:18.611 - Log.database - INFO - Received to update database for resource attributes with map: {'999': {}}. Accounting DB latency, will wait for latency of value 4 units duration before committing to DB
2016-10-16 17:12:18.611 - Log.coordinator - INFO - Resource Coordinator: Sending  back the response to Subject Coordinator with status 'conflict in resource attributes happened = False'
2016-10-16 17:12:18.612 - Log.coordinator - INFO - Subject Coordinator: Received following response from Resource Coordinator with:
	'conflict in resource attributes happened = False'

	Request ID = 0bbcbbd4-c02f-40b8-8587-a2ec12689495
	Subject ID = 1111
	Resource ID = 999
	Action = read
	Subject Attribute Map = {}
	Resource Attribute Map = {}
	Evaluation Result = True
	Subject Map read from DB = {'position': 'employee', 'history': ''}
	Resource Map read from DB = {'id': 'bank A'}
	Map with updated subject attributes = {'history': 'bank A'}
	Map with updated resource attributes = {}
	Map with read subject attributes = {}
	Map with read resource attributes = {}
2016-10-16 17:12:18.613 - Log.coordinator - INFO - Subject Coordinator: Sending success result to Client:
	Evaluation Result = Allow
	Subject ID = 1111
	Resource ID = 999
	Action = read
2016-10-16 17:12:18.614 - Log.client - INFO - Allow access to client 2 for Request{Subject ID: 1111, Resource ID: 999, action: read}
2016-10-16 17:12:18.614 - Log.coordinator - INFO - Subject Coordinator: Sending message to DB to commit the updated subject attributes: {'history': 'bank A'}
2016-10-16 17:12:18.615 - Log.database - INFO - Received to update database for subject attributes with map: {'1111': {'history': 'bank A'}}. Accounting DB latency, will wait for latency of value 4 units duration before committing to DB
2016-10-16 17:12:18.629 - Log.master - INFO - All processes completed. Terminating...
2016-10-16 17:12:22.617 - Log.database - INFO - Successfully updated database for resource attributes with map: {'999': {}}
2016-10-16 17:12:22.617 - Log.database - INFO - Successfully updated database for subject attributes with map: {'1111': {'history': 'bank A'}}
2016-10-16 17:12:24.639 - Log.database - INFO - Dumping final contents of DB:
	Subject Attributes = {'3333': {'position': 'listener'}, '1111': {'position': 'employee', 'history': 'bank A'}, '4444': {'viewCount': '0', 'name': 'Tom'}, '2222': {'position': 'viewer'}}
	Resource Attributes = {'999': {'type': '', 'id': 'bank A', 'viewCount': ''}, '888': {'type': 'movie', 'viewCount': '0'}, '666': {'movie': 'StarWars'}, '777': {'type': 'song', 'viewCount': '0'}}
